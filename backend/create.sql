create table event (id bigint generated by default as identity, campus varchar(255), details varchar(2000), end_date date, folder varchar(2000), name varchar(255), score float(53) not null, start_date date, primary key (id));
create table event_review (id bigint generated by default as identity, rate_value float(53) not null, review_date date, text varchar(255), event_id bigint, participante_id bigint, primary key (id));
create table participante (id bigint generated by default as identity, avatar varchar(255), email varchar(255), name varchar(255), password varchar(255), tipo varchar(255), primary key (id));
create table participante_role (participante_id bigint not null, role_id bigint not null);
create table participantes_events (event_id bigint not null, participante_id bigint not null, primary key (event_id, participante_id));
create table role (id bigint generated by default as identity, role varchar(255), primary key (id));
alter table if exists participante add constraint UK_b6k3sit220sktc8jkft8ji968 unique (email);
alter table if exists event_review add constraint FK2oftuxrumnaofyvoqgc1kdqb2 foreign key (event_id) references event;
alter table if exists event_review add constraint FK4r8h3bsm9bcf44eudbe4fqwsy foreign key (participante_id) references participante;
alter table if exists participante_role add constraint FKj9o6r0c5ef7udt8j1yjqogke2 foreign key (role_id) references role;
alter table if exists participante_role add constraint FKhr5bl8fdspu0lelmrh8p20p6k foreign key (participante_id) references participante;
alter table if exists participantes_events add constraint FKk29wc94ic1r6hd25k1ko4yulq foreign key (participante_id) references participante;
alter table if exists participantes_events add constraint FK3fq9aarsma18b4gddd1g53h8h foreign key (event_id) references event;
alter table participante MODIFY(id generated as identity (start with 1));
alter table event MODIFY(id generated as identity (start with 1));
alter table event_review MODIFY(id generated as identity (start with 1));
alter table ROLE MODIFY(id generated as identity (start with 1));
INSERT INTO ROLE (ROLE) values ('ROLE_ADMIN');
INSERT INTO ROLE (ROLE) values ('ROLE_ACADEMICO');
INSERT INTO ROLE (ROLE) values ('ROLE_ORGANIZADOR');
insert into participante (name, email, tipo, password, avatar) values ('Participante 1','email1@teste.com','ACADEMICO','$2a$12$r2kzbWrMIFbl2.J9MAVtVOT83gFpdfz4BMjVlXrv6OdMc7dlvp9qW', 'https://img.freepik.com/vetores-premium/imagem-de-perfil-de-personagem-de-desenho-animado-avatar-jovem_18591-55058.jpg');
insert into participante_role (participante_id, role_id) values (1,2);
insert into participante (name, email, tipo, password, avatar) values ('Participante 2','email2@teste.com','ACADEMICO','$2a$12$r2kzbWrMIFbl2.J9MAVtVOT83gFpdfz4BMjVlXrv6OdMc7dlvp9qW', 'https://img.freepik.com/vetores-premium/imagem-de-perfil-de-personagem-de-desenho-animado-avatar-jovem_18591-55056.jpg');
insert into participante_role (participante_id, role_id) values (2,2);
insert into participante (name, email, tipo, password, avatar) values ('Participante 3','email3@teste.com','ORGANIZADOR','$2a$12$r2kzbWrMIFbl2.J9MAVtVOT83gFpdfz4BMjVlXrv6OdMc7dlvp9qW', 'https://img.freepik.com/vetores-premium/imagem-de-perfil-de-personagem-de-desenho-animado-avatar-jovem_18591-55059.jpg');
insert into participante_role (participante_id, role_id) values (3,3);
insert into participante (name, email, tipo, password, avatar) values ('Participante 4','email4@teste.com','ORGANIZADOR','$2a$12$r2kzbWrMIFbl2.J9MAVtVOT83gFpdfz4BMjVlXrv6OdMc7dlvp9qW', 'https://img.freepik.com/vetores-premium/servicos-de-suporte-ao-cliente_18591-39587.jpg');
insert into participante_role (participante_id, role_id) values (4,3);
insert into participante (name, email, tipo, password, avatar) values ('Darlan','dcpoffo@gmail.com','ORGANIZADOR','$2a$12$r2kzbWrMIFbl2.J9MAVtVOT83gFpdfz4BMjVlXrv6OdMc7dlvp9qW', 'https://img.freepik.com/vetores-gratis/garota-de-camisa-vermelha_1308-37044.jpg');
insert into participante_role (participante_id, role_id) values (5,1);
insert into event (name, campus, start_Date, end_Date, details, folder, score) values ('Show do KISS','Hard Rock Live Florianopolis', TO_DATE('2023-04-25','yyyy-mm-dd'),TO_DATE('2023-04-25','yyyy-mm-dd'),'Show do KISS - Hard Rock Live Florianopolis', 'https://blackwaterviagens.com.br/wp-content/uploads/2023/01/kiss-turne.jpg', 0.0);
insert into event (name, campus, start_Date, end_Date, details, folder, score) values ('Show do Scorpions','Arena Petry - Florianopolis',TO_DATE('2023-09-28','yyyy-mm-dd'),TO_DATE('2023-09-28','yyyy-mm-dd'),'Show do SCORPIONS - Arena Petry ', 'https://www.makilacrowley.com.br/wp-content/uploads/ngg_featured/Cartaz_Excursoes_Scorpions_2019_Floripa_9375.jpg', 0.0);
insert into participantes_events (event_id, participante_id) values (1,1);
insert into participantes_events (event_id, participante_id) values (1,2);
insert into participantes_events (event_id, participante_id) values (1,3);
insert into participantes_events (event_id, participante_id) values (2,2);
insert into participantes_events (event_id, participante_id) values (2,3);
insert into event_review (text, rate_value, event_id, participante_id) values ('avaliação dia', 8, 1, 1);
insert into event_review (text, rate_value, event_id, participante_id) values ('avaliação dia 20/3', 7, 1, 2);
insert into event_review (text, rate_value, event_id, participante_id) values ('avaliação dia 20/3', 10, 1, 3);
